# Section 11. CAS
## 원자적 연산
**원자적 연산**(atomic operation)의 의미는 해당 연산이 더 이상 나눌 수 없는 단위로 수행된 다는 것을 의미한다.
즉, 원자적 연산은 중단되지 않고, 다른 연산과 간섭 없이 완전히 실행되거나 전혀 실행되지 않는 성질을 가지고 있다.
- i = 1 (원자적 연산 O)
- i++ (원자적 연산 X)
## CAS
> < 락을 사용하는 방식 >
> 1. 락이 있는지 확인한다.
> 2. 락을 획득하고 임계 영역에 들어간다.
> 3. 작업을 수행한다.
> 4. 락을 반납한다. 

**CAS (Compare-And-Swap, Compare-And-Set)**


: 위의 락을 사용할 때 발생하는 문제를 해결하기 위해 락을 걸지 않고 원자적인 연산을 수행할 수 있는 방법이 있는데, 
이것을 CAS(Compare- And-Swap, Compare-And-Set) 연산이라 한다. 이 방법은 락을 사용하지 않기 때문에 락 프리(lock-free) 기법이라 한다.

**락(Lock) 방식**
- 비관적(pessimistic) 접근법
- 데이터에 접근하기 전에 항상 락을 획득 다른 스레드의 접근을 막음
- "다른 스레드가 방해할 것이다"라고 가정

**CAS(Compare-And-Swap) 방식** 
- 낙관적(optimistic) 접근법
- 락을 사용하지 않고 데이터에 바로 접근 충돌이 발생하면 그때 재시도
- "대부분의 경우 충돌이 없을 것이다"라고 가정